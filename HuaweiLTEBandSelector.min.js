function currentBand(){$.ajax({type:"GET",async:!0,url:"/api/device/signal",error:function(e,t,n){alert("Signal Error:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+n)},success:function(e){var t="";t=(t=(t="RSRQ/RSRP/SINR :"+extractXML("rsrq",e)+"/"+extractXML("rsrp",e)+"/"+extractXML("sinr",e))+"\nBand : "+extractXML("band",e)+" - "+extractXML("dlbandwidth",e))+"\nEARFCN : "+extractXML("earfcn",e),alert(t)}})}function extractXML(e,t){try{return t.split("</"+e+">")[0].split("<"+e+">")[1]}catch(e){return e.message}}function ltebandselection(){if(0==arguments.length){if(null==(e=prompt("Please input desirable LTE band number. If you want to use multiple LTE bands, write down multiple band number joined with '+'. If you want to use every supported bands, write down 'ALL'. (Ex. SKT 1+3+5+7 / KT 1+3+8 / LG U+ 1+5+7)","ALL"))||""===e)return}else var e=arguments[0];if(window.location.href.includes("/html/content.html#home")){var t=e.split("+"),n=0;if("ALL"===e.toUpperCase())n="7FFFFFFFFFFFFFFF";else{for(var r=0;r<t.length;r++)n+=Math.pow(2,parseInt(t[r])-1);n=n.toString(16),console.log("LTEBand:"+n)}$.ajax({type:"GET",async:!0,url:"/html/content.html#home",error:function(e,t,n){alert("Token Error:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+n)},success:function(e){var e=e.split('name="csrf_token" content="'),t=e[e.length-1].split('"')[0];setTimeout(function(){$.ajax({type:"POST",async:!0,url:"/api/net/net-mode",headers:{__RequestVerificationToken:t},contentType:"application/xml",data:"<request><NetworkMode>03</NetworkMode><NetworkBand>3FFFFFFF</NetworkBand><LTEBand>"+n+"</LTEBand></request>",success:function(e){alert(e)},error:function(e,t,n){alert("Net Mode Error:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+n)}})},2e3)}})}else alert("You can use this function only in main page.")}; console.log('Available commands: currentBand() , ltebandselection()')
